(()=>{"use strict";const e=window.wp.hooks,t=window.wp.compose,o=window.wp.blockEditor,r=window.wp.components,c=window.wp.i18n,i=window.wp.data,n=window.ReactJSXRuntime;(0,e.addFilter)("blocks.registerBlockType","carmo-cover-block/acf-attributes",(e,t)=>"core/cover"!==t?e:{...e,attributes:{...e.attributes,acfDesktopFieldKey:{type:"string",default:""}}});const s=(0,t.createHigherOrderComponent)(e=>t=>{if("core/cover"!==t.name)return(0,n.jsx)(e,{...t});const{attributes:s,setAttributes:l}=t,a=(0,i.useSelect)(e=>{if(!s.acfDesktopFieldKey)return"";const{getCurrentPostId:t,getCurrentPostType:o}=e("core/editor"),r=t(),c=o();if(!r||!c)return"";const i=e("core").getEntityRecord("postType",c,r);if(!i?.acf?.[s.acfDesktopFieldKey])return"";const n=i.acf[s.acfDesktopFieldKey];return"object"==typeof n&&n?.url?n.url:"string"==typeof n?n:""},[s.acfDesktopFieldKey]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,{...t}),(0,n.jsx)(o.InspectorControls,{children:(0,n.jsxs)(r.PanelBody,{title:(0,c.__)("ACF Background Image","carmo-cover-block"),initialOpen:!1,children:[(0,n.jsx)(r.TextControl,{label:(0,c.__)("ACF Field Key","carmo-cover-block"),value:s.acfDesktopFieldKey,onChange:e=>l({acfDesktopFieldKey:e}),help:(0,c.__)("Enter the ACF field key for background image (e.g., field_63a1b2c3d4e5f).","carmo-cover-block")}),a&&(0,n.jsx)("p",{style:{fontStyle:"italic"},children:(0,c.__)("ACF image detected.","carmo-cover-block")})]})})]})},"withACFControls");(0,e.addFilter)("editor.BlockEdit","carmo-cover-block/acf-controls",s)})();